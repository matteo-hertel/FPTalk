import { Appear } from 'mdx-deck'
import { Head } from 'mdx-deck'
import { Image } from 'mdx-deck'
import {CodeSurfer} from 'mdx-deck-code-surfer';
import {Flex, Box} from '@rebass/grid';
import {codeTheme} from './../styles/baseStyle';
import Codemotion from './../layout/CodemotionLayout'
import ImageOnlyLayout from './../layout/ImageOnlyLayout'
import Skyscanner from './../layout/SkyscannerLayout'

# Let's put everything together.
<img style={{minWidth: '70%'}} src='./assets/allthethings.jpg' />
---
<CodeSurfer
title="Filter and Reduce"
lang='javascript'
theme={codeTheme}
showNumbers
code={require('raw-loader!./../snippets/09-combined-filter-reduce.js')}
steps={[
{notes:''},
{tokens:{4: [2]}},
{tokens:{5: [2]}},
{notes: `Done!`}
]}
/>

```notes
Notice the missing city in the previous slide?
removed EDI from the list of city, how aout combining filter and reduce?
```
---
<CodeSurfer
title='Map Filter and Reduce'
lang='javascript'
theme={codeTheme}
showNumbers
code={require('raw-loader!./../snippets/10-combined-all.js')}
steps={[
{notes:''},
{tokens:{4: [2]}},
{tokens:{5: [2]}},
{tokens:{6: [2]}},
{notes: `Done!`}
]}
/>

```notes
You'll soon realise there are endless possibility whith map filter and reduce, let's add map to the previous snippet: 
```
---
<CodeSurfer
title="ðŸ’¡"
notes='Improvement: extract logic to single pure functions'
lang='javascript'
theme={codeTheme}
showNumbers
code={require('raw-loader!./../snippets/11-combined-allTwo.js')}
steps={[
{notes:''},
{tokens:{4: [2,7]}},
{tokens:{20: [3]}},
{tokens:{5: [2,7]}},
{tokens:{17: [3]}},
{tokens:{6: [2,7]}},
{tokens:{23: [3]}},
{notes: `Done!`}
]}
/>

```notes
And as we did before let's make our code easier to test by extracting the logic in their own functions
```
---
## Can we improve it any further? ðŸ¤”
---
<CodeSurfer
title="Point"
notes='A point is a parameter-argument mapping'
lang='javascript'
theme={codeTheme}
showNumbers
code={require('raw-loader!./../snippets/11-combined-allTwo.js')}
steps={[
{notes:''},
{tokens:{4: [4,9]}},
{tokens:{5: [4,9]}},
{tokens:{6: [5,7], 7:[5,7]}},
{notes: ``}
]}
/>

```notes
This is pretty good already
A point is a parameter-argument mapping
```
---
<CodeSurfer
title="Introducing: Point-Free Style"
notes=''
lang='javascript'
theme={codeTheme}
showNumbers
code={require('raw-loader!./../snippets/12-point-free.js')}
steps={[
{notes:''},
{tokens:{4: [2,4]}},
{tokens:{5: [2,4]}},
{tokens:{6: [2,4]}},
{notes: `Point Free ðŸŽ‰`}
]}
/>

```notes
By passing the callback in we removed the point
removed clutter 
more readable like a story
```
